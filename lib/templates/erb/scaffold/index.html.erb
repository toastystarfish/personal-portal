
<div class="page-container">
  <header class="flex-baseline">
    <h2><%= plural_table_name.titleize %></h2>
    <div class="flex-right">
<%%= link_to 'New <%= singular_table_name.titleize %>', new_<%= singular_table_name %>_path, class: "flex-align-right" %>
    </div>
  </header>

  <div class="margin-top-medium">
    <table class="index-table">
      <thead>
        <tr>
<%# By default integer columns are boring so we will reject them for now -%>
<% attr_list = attributes.reject(&:password_digest?).reject{|attr| attr.type.eql?(:integer)} -%>
<% attr_list.each do |attribute| -%>
          <%%= sortable_column_header :<%= attribute.singular_name.to_sym %> %>
<% end -%>
        </tr>
      </thead>

      <tbody class="basic-card-no-padding">
        <%% @<%= plural_table_name %>.each do |<%= singular_table_name %>| %>
          <tr>
<% attr_list.each_with_index do |attribute, idx| -%>
<% if idx.eql? 0 -%>
                <td><%%= link_to <%= singular_table_name %>.<%= attribute.name %>, <%= singular_table_name %> %></td>
<% else -%>
                <td><%%= <%= singular_table_name %>.<%= attribute.name %> %></td>
<% end -%>
<% end -%>
          </tr>
        <%% end %>
      </tbody>
    </table>
    <%%= will_paginate @<%= plural_table_name %>, inner_window: 1, outer_window: 0,
        previous_label: fa_icon('angle-left'), next_label: fa_icon('angle-right') %>
  </div>
</div>
