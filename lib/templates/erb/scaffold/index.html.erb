
<h1><%= plural_table_name.titleize %></h1>
<%%= link_to 'New <%= singular_table_name.titleize %>', new_<%= singular_table_name %>_path %>

<table>
  <thead>
    <tr>
<%# By default integer columns are boring so we will reject them for now -%>
<% attr_list = attributes.reject(&:password_digest?).reject{|attr| attr.type.eql?(:integer)} -%>
<% attr_list.each do |attribute| -%>
      <%%= sortable_column_header :<%= attribute.singular_name.to_sym %> %>
<% end -%>
    </tr>
  </thead>

  <tbody>
    <%% @<%= plural_table_name %>.each do |<%= singular_table_name %>| %>
      <tr>
<% attr_list.each_with_index do |attribute, idx| -%>
<% if idx.eql? 0 -%>
        <td><%%= link_to <%= singular_table_name %>.<%= attribute.name %>, <%= singular_table_name %> %></td>
<% else -%>
        <td><%%= <%= singular_table_name %>.<%= attribute.name %> %></td>
<% end -%>
<% end -%>
      </tr>
    <%% end %>
  </tbody>
</table>
<%%= will_paginate @<%= plural_table_name %> %>
